# Отчёт по лабораторной работе  
**Студент**: Возжаева Мария Владимировна  
**Группа**: Р4150  
**Дата выполнения**: 27.03.2025  
**Дисциплина**: Взаимодействие с базами данных  

---

## **Текст задания**  
1. Построить инфологическую модель.  
2. Разработать даталогическую модель.  
3. Реализовать модель в PostgreSQL.  
4. Заполнить таблицы тестовыми данными.  

---

## **Предметная область: Турфирма**  
Система управления бронированием туров, включая клиентов, отели, транспорт и связанные бронирования.

---

## **Список сущностей и их классификация**  
- **Клиент** (стержневая)  
- **Тур** (стержневая)  
- **Отель** (стержневая)  
- **Транспорт** (стержневая)  
- **Бронирование** (ассоциация, связывает Клиента, Тур, Отель, Транспорт)  

---

## **Инфологическая модель (ER-диаграмма)**  
@startuml
'/* Даталогическая модель для PostgreSQL */

entity "Клиент" as client {
  *id_клиента : SERIAL <<PK>>
  --
  фио : VARCHAR(100) [NN]
  дата_рождения : DATE [NN]
  телефон :CHARACTER VARYING (20) [NN]
  email : CHARACTER VARYING(50) [NN]
  паспортные_данные : CHARACTER VARYING (10) [NN,UQ]
}

entity "Тур" as tour {
  *id_тура : SERIAL <<PK>>
  --
  длительность : INTEGER [NN]
  цена : NUMERIC(10,2) [NN]
  страна_назначения : CHARACTER VARYING (50) [NN]
}

entity "Отель" as hotel {
  *id_отеля : SERIAL <<PK>>
  --
  название : CHARACTER VARYING(50) [NN]
  адрес : CHARACTER VARYING(1000)[NN]
  звезды : INTEGER [NN]
  стоимость_проживания : NUMERIC(10,2) [NN]
}

entity "Транспорт" as transport {
  *id_транспорта : SERIAL <<PK>>
  --
  тип_транспорта : CHARACTER VARYING(50) [NN]
  название_перевозчика :CHARACTER VARYING(100) [NN]
  дата_отправления : DATE [NN]
  дата_прибытия : DATE [NN]
  стоимость_билета : NUMERIC(10,2) [NN]
}

entity "Бронирование" as booking {
  *id_бронирования : SERIAL <<PK>>
  --
  # id_клиента : INTEGER [NN, FK]
  # id_тура : INTEGER [NN, FK]
  # id_отеля : INTEGER [NN, FK]
  # id_транспорта : INTEGER [NN, FK]
  дата_бронирования : DATE [NN]
  количество_человек : INTEGER [NN]
  общая_стоимость : NUMERIC(10,2) [NN]
}

'/* Связи */
client ||--o{ booking
tour ||--o{ booking
hotel ||--o{ booking
transport ||--o{ booking

'/* Обозначения */
note left of client
[NN] - NOT NULL
[UQ] - UNIQUE
[FK] - Foreign Key
<<PK>> - Primary Key
end note
@enduml


Даталогическая модель
Таблицы и их атрибуты:

Клиент
id_клиента (SERIAL, PK)
фио (VARCHAR(100), NOT NULL)
дата_рождения (DATE, NOT NULL)
телефон (VARCHAR(20), NOT NULL)
email (VARCHAR(50), NOT NULL, UNIQUE)
паспортные_данные (VARCHAR(10), NOT NULL, UNIQUE)

Тур
id_тура (SERIAL, PK)
длительность (INTEGER, NOT NULL)
цена (NUMERIC(10,2), NOT NULL)
страна_назначения (VARCHAR(50), NOT NULL)

Отель
id_отеля (SERIAL, PK)
название (VARCHAR(50), NOT NULL)
адрес (VARCHAR(1000), NOT NULL)
звезды (INTEGER, NOT NULL)
стоимость_проживания (NUMERIC(10,2), NOT NULL)

Транспорт
id_транспорта (SERIAL, PK)
тип_транспорта (VARCHAR(50), NOT NULL)
название_перевозчика (VARCHAR(100), NOT NULL)
дата_отправления (DATE, NOT NULL)
дата_прибытия (DATE, NOT NULL)
стоимость_билета (NUMERIC(10,2), NOT NULL)

Бронирование (ассоциативная таблица)
id_бронирования (SERIAL, PK)
id_клиента (INTEGER, FK → Клиент)
id_тура (INTEGER, FK → Тур)
id_отеля (INTEGER, FK → Отель)
id_транспорта (INTEGER, FK → Транспорт)
дата_бронирования (DATE, NOT NULL)
количество_человек (INTEGER, NOT NULL)
общая_стоимость (NUMERIC(10,2), NOT NULL)
